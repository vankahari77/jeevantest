<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">prepareAppleASNOrderLines</value>
  <value name="encodeutf8">true</value>
  <value name="body">Ly8gcGlwZWxpbmUNCklEYXRhQ3Vyc29yIHBpcGVsaW5lQ3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vy
c29yKCk7DQoNCgkvLyBEVEwNCglJRGF0YVtdCURUTCA9IElEYXRhVXRpbC5nZXRJRGF0YUFycmF5
KCBwaXBlbGluZUN1cnNvciwgIkRUTCIgKTsNCglTdHJpbmcJcHVyY2hhc2VPcmRlck5vID0gSURh
dGFVdGlsLmdldFN0cmluZyggcGlwZWxpbmVDdXJzb3IsICJwdXJjaGFzZU9yZGVyTm8iICk7DQoJ
SURhdGEJUGFsbGV0cyA9IG51bGw7DQoJaWYgKCBEVEwgIT0gbnVsbCkNCgl7DQoJCU1hcDxTdHJp
bmcsTWFwPFN0cmluZywgTWFwPFN0cmluZyxJRGF0YT4+PiAgICBobVBhbGxldCA9IG5ldyBIYXNo
TWFwPFN0cmluZyxNYXA8U3RyaW5nLCBNYXA8U3RyaW5nLElEYXRhPj4+KCk7DQoJCWZvciAoIGlu
dCBpID0gMDsgaSA8IERUTC5sZW5ndGg7IGkrKyApDQoJCXsNCgkJCUlEYXRhQ3Vyc29yIERUTEN1
cnNvciA9IERUTFtpXS5nZXRDdXJzb3IoKTsNCgkJCQlTdHJpbmcJUGFsbGV0X1NTQ0MgPSBJRGF0
YVV0aWwuZ2V0U3RyaW5nKCBEVExDdXJzb3IsICJQYWxsZXRfU1NDQyIgKTsNCgkJCQlTdHJpbmcJ
Q3VzdG9tZXJfUE9fbGluZV9pdGVtX051bWJlciA9IElEYXRhVXRpbC5nZXRTdHJpbmcoIERUTEN1
cnNvciwgIkN1c3RvbWVyX1BPX2xpbmVfaXRlbV9OdW1iZXIiICk7DQoJCQkJU3RyaW5nCVBhY2th
Z2VfU1NDQyA9IElEYXRhVXRpbC5nZXRTdHJpbmcoIERUTEN1cnNvciwgIlBhY2thZ2VfU1NDQyIg
KTsNCgkJCQlTdHJpbmcJQ3VzdG9tZXJfUGFydE51bWJlciA9IElEYXRhVXRpbC5nZXRTdHJpbmco
IERUTEN1cnNvciwgIkN1c3RvbWVyX1BhcnROdW1iZXIiICk7DQoJCQkJU3RyaW5nCUFwcGxlX1Bh
cnRfTnVtYmVyID0gSURhdGFVdGlsLmdldFN0cmluZyggRFRMQ3Vyc29yLCAiQXBwbGVfUGFydF9O
dW1iZXIiICk7DQoJCQkJU3RyaW5nCVNlcmlhbF9OdW1iZXIgPSBJRGF0YVV0aWwuZ2V0U3RyaW5n
KCBEVExDdXJzb3IsICJTZXJpYWxfTnVtYmVyIiApOw0KCQkJCVN0cmluZwlJTUVJID0gSURhdGFV
dGlsLmdldFN0cmluZyggRFRMQ3Vyc29yLCAiSU1FSSIgKTsNCgkJCQlTdHJpbmcJUXVhbnRpdHkg
PSBJRGF0YVV0aWwuZ2V0U3RyaW5nKCBEVExDdXJzb3IsICJRdWFudGl0eSIgKTsNCgkJCQkNCgkJ
CQlJRGF0YSBzZXJpYWxJdGVtPW51bGw7DQoJCQkJaWYoIElNRUkgIT0gbnVsbCAmJiBTZXJpYWxf
TnVtYmVyICE9IG51bGwpDQoJCQkJew0KCQkJCQlzZXJpYWxJdGVtPUlEYXRhRmFjdG9yeS5jcmVh
dGUoKTsNCgkJCQkJSURhdGFDdXJzb3IgU2VyaWFsSXRlbUN1cnNvciA9IHNlcmlhbEl0ZW0uZ2V0
Q3Vyc29yKCk7DQoJCQkJCUlEYXRhVXRpbC5wdXQoIFNlcmlhbEl0ZW1DdXJzb3IsICJJTUVJIiwg
SU1FSSApOw0KCQkJCQlJRGF0YVV0aWwucHV0KCBTZXJpYWxJdGVtQ3Vyc29yLCAiU2VyaWFsTm8i
LCBTZXJpYWxfTnVtYmVyICk7DQoJCQkJCVNlcmlhbEl0ZW1DdXJzb3IuZGVzdHJveSgpOw0KCQkJ
CX0NCg0KCQkJRFRMQ3Vyc29yLmRlc3Ryb3koKTsNCgkJCQ0KCQkJTWFwPFN0cmluZywgTWFwPFN0
cmluZywgSURhdGE+PiBobVRlbXBDb250YWluZXIgPSAoTWFwPFN0cmluZywgTWFwPFN0cmluZywg
SURhdGE+PikoaG1QYWxsZXQuZ2V0KFBhbGxldF9TU0NDKSk7DQoJCQlTdHJpbmcgb3JkZXJMaW5l
a2V5ID0gQ3VzdG9tZXJfUE9fbGluZV9pdGVtX051bWJlciArIl8iKyBBcHBsZV9QYXJ0X051bWJl
cisiXyIrUXVhbnRpdHk7DQoJCQlpZihobVRlbXBDb250YWluZXIgIT0gbnVsbCkNCgkJCXsNCgkJ
CQkNCgkJCQlIYXNoTWFwPFN0cmluZywgSURhdGE+IGhtVGVtcE9yZGVyTGluZXMgPSAoSGFzaE1h
cDxTdHJpbmcsIElEYXRhPikgaG1UZW1wQ29udGFpbmVyLmdldChQYWNrYWdlX1NTQ0MpOw0KCQkJ
CWlmKGhtVGVtcE9yZGVyTGluZXMgIT0gbnVsbCkNCgkJCQl7DQoJCQkJCQ0KCQkJCQlJRGF0YSBz
ZXJpYWxJdGVtcyA9ICAoSURhdGEpIGhtVGVtcE9yZGVyTGluZXMuZ2V0KG9yZGVyTGluZWtleSk7
DQoJCQkJCQ0KCQkJCQlpZihzZXJpYWxJdGVtcyAhPSBudWxsKQ0KCQkJCQl7DQoJCQkJCQlJRGF0
YUN1cnNvciBzZXJpYWxJdGVtc0N1cnNvciA9IHNlcmlhbEl0ZW1zLmdldEN1cnNvcigpOw0KCQkJ
CQkJSURhdGFbXSBzZXJpYWxJdGVtQXJyYXkgPSBJRGF0YVV0aWwuZ2V0SURhdGFBcnJheSggc2Vy
aWFsSXRlbXNDdXJzb3IsICJTZXJpYWxJdGVtIiApOw0KCQkJCQkJSURhdGFbXSBuZXdzZXJpYWxJ
dGVtQXJyYXkgPSBuZXcgSURhdGFbc2VyaWFsSXRlbUFycmF5Lmxlbmd0aCArIDFdOw0KCQkJCQkJ
Zm9yKGludCBqPTA7IGo8c2VyaWFsSXRlbUFycmF5Lmxlbmd0aDsgaisrKQ0KCQkJCQkJew0KCQkJ
CQkJCW5ld3NlcmlhbEl0ZW1BcnJheVtqXT1zZXJpYWxJdGVtQXJyYXlbal07DQoJCQkJCQl9DQoJ
CQkJCQluZXdzZXJpYWxJdGVtQXJyYXlbc2VyaWFsSXRlbUFycmF5Lmxlbmd0aF09c2VyaWFsSXRl
bTsNCgkJCQkJCUlEYXRhVXRpbC5wdXQoIHNlcmlhbEl0ZW1zQ3Vyc29yLCAiU2VyaWFsSXRlbSIs
IG5ld3NlcmlhbEl0ZW1BcnJheSApOw0KCQkJCQkJc2VyaWFsSXRlbXNDdXJzb3IuZGVzdHJveSgp
Ow0KCQkJCQkNCgkJCQkJCQ0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJc2VyaWFs
SXRlbXMgPSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7DQoJCQkJCQlJRGF0YUN1cnNvciBzZXJpYWxJ
dGVtc0N1cnNvciA9IHNlcmlhbEl0ZW1zLmdldEN1cnNvcigpOw0KCQkJCQkJSURhdGFbXSBzZXJp
YWxJdGVtQXJyYXkgPSBuZXcgSURhdGFbMV07DQoJCQkJCQlzZXJpYWxJdGVtQXJyYXlbMF09c2Vy
aWFsSXRlbTsNCgkJCQkJCUlEYXRhVXRpbC5wdXQoIHNlcmlhbEl0ZW1zQ3Vyc29yLCAiU2VyaWFs
SXRlbSIsIHNlcmlhbEl0ZW1BcnJheSApOw0KCQkJCQkJc2VyaWFsSXRlbXNDdXJzb3IuZGVzdHJv
eSgpOw0KCQkJCQkJaG1UZW1wT3JkZXJMaW5lcy5wdXQob3JkZXJMaW5la2V5LCBzZXJpYWxJdGVt
cyk7DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZQ0KCQkJCXsNCgkJCQkJaG1UZW1wT3JkZXJMaW5l
cz0gbmV3IEhhc2hNYXA8U3RyaW5nLCBJRGF0YT4oKTsNCgkJCQkJSURhdGEgc2VyaWFsSXRlbXMg
PSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7DQoJCQkJCUlEYXRhQ3Vyc29yIHNlcmlhbEl0ZW1zQ3Vy
c29yID0gc2VyaWFsSXRlbXMuZ2V0Q3Vyc29yKCk7DQoJCQkJCUlEYXRhW10gc2VyaWFsSXRlbXNB
cnJheSA9IG5ldyBJRGF0YVsxXTsNCgkJCQkJc2VyaWFsSXRlbXNBcnJheVswXT1zZXJpYWxJdGVt
Ow0KCQkJCQlJRGF0YVV0aWwucHV0KCBzZXJpYWxJdGVtc0N1cnNvciwgIlNlcmlhbEl0ZW0iLCBz
ZXJpYWxJdGVtc0FycmF5ICk7DQoJCQkJCXNlcmlhbEl0ZW1zQ3Vyc29yLmRlc3Ryb3koKTsNCgkJ
CQkJaG1UZW1wT3JkZXJMaW5lcy5wdXQoUGFja2FnZV9TU0NDLCBzZXJpYWxJdGVtcyk7DQoJCQkJ
CWhtVGVtcENvbnRhaW5lci5wdXQoUGFsbGV0X1NTQ0MsIGhtVGVtcE9yZGVyTGluZXMpOw0KCQkJ
CQkNCgkJCQl9DQoNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQlIYXNoTWFwPFN0cmluZywgSURh
dGE+IGhtVGVtcE9yZGVyTGluZXMgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIElEYXRhPigpOw0KCQkJ
CUlEYXRhIHNlcmlhbEl0ZW1zID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0KCQkJCUlEYXRhQ3Vy
c29yIHNlcmlhbEl0ZW1zQ3Vyc29yID0gc2VyaWFsSXRlbXMuZ2V0Q3Vyc29yKCk7DQoJCQkJSURh
dGFbXSBzZXJpYWxJdGVtc0FycmF5ID0gbmV3IElEYXRhWzFdOw0KCQkJCXNlcmlhbEl0ZW1zQXJy
YXlbMF09c2VyaWFsSXRlbTsNCgkJCQlJRGF0YVV0aWwucHV0KCBzZXJpYWxJdGVtc0N1cnNvciwg
IlNlcmlhbEl0ZW0iLCBzZXJpYWxJdGVtc0FycmF5ICk7DQoJCQkJc2VyaWFsSXRlbXNDdXJzb3Iu
ZGVzdHJveSgpOw0KCQkJCQ0KCQkJCWhtVGVtcE9yZGVyTGluZXMucHV0KG9yZGVyTGluZWtleSwg
c2VyaWFsSXRlbXMpOwkNCgkJCQlobVRlbXBDb250YWluZXIgPSBuZXcgSGFzaE1hcDxTdHJpbmcs
IE1hcDxTdHJpbmcsIElEYXRhPj4oKTsNCgkJCQlobVRlbXBDb250YWluZXIucHV0KFBhY2thZ2Vf
U1NDQywgaG1UZW1wT3JkZXJMaW5lcyk7DQoJCQkJaG1QYWxsZXQucHV0KFBhbGxldF9TU0NDLCBo
bVRlbXBDb250YWluZXIpOw0KCQkJCQ0KCQkJCQkJCQkJDQoJCQl9DQoJCX0NCgkJDQoJCS8vIEFT
Ti5QYWxsZXRzDQoJCVBhbGxldHMgPSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7DQoJCUlEYXRhQ3Vy
c29yIFBhbGxldHNDdXJzb3IgPSBQYWxsZXRzLmdldEN1cnNvcigpOw0KDQoJCS8vIEFTTi5QYWxs
ZXRzLlBhbGxldA0KCQlJRGF0YVtdCVBhbGxldCA9IG5ldyBJRGF0YVtobVBhbGxldC5rZXlTZXQo
KS5zaXplKCldOw0KCQlpbnQgaV80PTA7DQoJCWZvciAoIE1hcC5FbnRyeTxTdHJpbmcsTWFwPFN0
cmluZywgTWFwPFN0cmluZyxJRGF0YT4+PiBlbnRyeTEgOiBobVBhbGxldC5lbnRyeVNldCgpKSAN
CgkJew0KCQkJU3RyaW5nIGtleVBhbGxldCA9IGVudHJ5MS5nZXRLZXkoKTsNCgkJCVBhbGxldFtp
XzRdID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0KCQkJSURhdGFDdXJzb3IgUGFsbGV0Q3Vyc29y
ID0gUGFsbGV0W2lfNF0uZ2V0Q3Vyc29yKCk7DQoJCQlJRGF0YVV0aWwucHV0KCBQYWxsZXRDdXJz
b3IsICJQYWxsZXRJRCIsICBrZXlQYWxsZXQgKTsJDQoJCQlNYXA8U3RyaW5nLCBNYXA8U3RyaW5n
LCBJRGF0YT4+IGhtQ29udGFpbmVyID0gKE1hcDxTdHJpbmcsIE1hcDxTdHJpbmcsIElEYXRhPj4p
ZW50cnkxLmdldFZhbHVlKCk7DQoJCQkNCgkJCS8vIEFTTi5QYWxsZXRzLlBhbGxldC5QYWNrYWdl
cw0KCQkJSURhdGEJUGFja2FnZXMgPSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7DQoJCQlJRGF0YUN1
cnNvciBQYWNrYWdlc0N1cnNvciA9IFBhY2thZ2VzLmdldEN1cnNvcigpOw0KCQkJDQoJCQlJRGF0
YVtdCVBhY2thZ2UgPSBuZXcgSURhdGFbaG1Db250YWluZXIua2V5U2V0KCkuc2l6ZSgpXTsNCgkJ
CQ0KCQkJLy9JRGF0YVtdCUNvbnRhaW5lciA9IG5ldyBJRGF0YVtobUNvbnRhaW5lci5rZXlTZXQo
KS5zaXplKCldOw0KCQkJaW50IGlfNT0wOw0KCQkJZm9yICggTWFwLkVudHJ5PFN0cmluZywgTWFw
PFN0cmluZywgSURhdGE+PiBlbnRyeTIgOiBobUNvbnRhaW5lci5lbnRyeVNldCgpKSANCgkJCXsN
CgkJCQlTdHJpbmcga2V5Q29udGFpbmVyID0gZW50cnkyLmdldEtleSgpOw0KCQkJCVBhY2thZ2Vb
aV81XSA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsNCgkJCQlJRGF0YUN1cnNvciBQYWNrYWdlQ3Vy
c29yID0gUGFja2FnZVtpXzVdLmdldEN1cnNvcigpOw0KCQkJCUlEYXRhVXRpbC5wdXQoIFBhY2th
Z2VDdXJzb3IsICJQYWNrYWdlSUQiLCBrZXlDb250YWluZXIgKTsNCgkJCQkNCgkJCQlNYXA8U3Ry
aW5nLCBJRGF0YT4gaG1PcmRlckxpbmVzID0gKE1hcDxTdHJpbmcsIElEYXRhPillbnRyeTIuZ2V0
VmFsdWUoKTsNCgkJCQkNCgkJCQlJRGF0YQlPcmRlckxpbmVzID0gSURhdGFGYWN0b3J5LmNyZWF0
ZSgpOw0KCQkJCUlEYXRhQ3Vyc29yIE9yZGVyTGluZXNDdXJzb3IgPSBPcmRlckxpbmVzLmdldEN1
cnNvcigpOw0KCQkJCUlEYXRhW10JT3JkZXJMaW5lID0gbmV3IElEYXRhW2htT3JkZXJMaW5lcy5r
ZXlTZXQoKS5zaXplKCldOw0KCQkJCWludCBpXzY9MDsNCgkJCQlmb3IgKCBNYXAuRW50cnk8U3Ry
aW5nLCBJRGF0YT4gZW50cnkzIDogaG1PcmRlckxpbmVzLmVudHJ5U2V0KCkpIA0KCQkJCXsNCgkJ
CQkJU3RyaW5nIGtleU9yZGVyTGluZSA9IGVudHJ5My5nZXRLZXkoKTsNCgkJCQkJT3JkZXJMaW5l
W2lfNl09SURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0KCQkJCQlJRGF0YUN1cnNvciBPcmRlckxpbmVD
dXJzb3IgPSBPcmRlckxpbmVbaV82XS5nZXRDdXJzb3IoKTsNCgkJCQkJU3RyaW5nVG9rZW5pemVy
IHN0ID0gbmV3IFN0cmluZ1Rva2VuaXplcihrZXlPcmRlckxpbmUsIl8iKTsgIA0KCQkJCSAgICAg
d2hpbGUgKHN0Lmhhc01vcmVUb2tlbnMoKSkgeyAgDQoJCQkJICAgICAgICAgLy8gUHJlcGFyZSB0
aGUgT3JkZXIgSGVhZGVyDQoJCQkJICAgICAgICAgSURhdGFVdGlsLnB1dCggT3JkZXJMaW5lQ3Vy
c29yLCAiTGluZU51bWJlciIsIHN0Lm5leHRUb2tlbigpICk7DQoJCQkJICAgICAgICAgSURhdGFV
dGlsLnB1dCggT3JkZXJMaW5lQ3Vyc29yLCAiU3VwcGxpZXJQYXJ0Tm8iLCBzdC5uZXh0VG9rZW4o
KSApOw0KCQkJCSAgICAgICAgIElEYXRhVXRpbC5wdXQoIE9yZGVyTGluZUN1cnNvciwgIlF1YW50
aXR5Iiwgc3QubmV4dFRva2VuKCkgKTsNCgkJCQkgICAgICAgIA0KCQkJCSAgICAgfSAgDQoNCgkJ
CQkgICAgIElEYXRhIHNlcmlhbEl0ZW1zID0gKElEYXRhKWVudHJ5My5nZXRWYWx1ZSgpOw0KCQkJ
CSAgICAgSURhdGFDdXJzb3Igc2VyaWFsSXRlbXNDdXJzb3IgPSBzZXJpYWxJdGVtcy5nZXRDdXJz
b3IoKTsNCgkJCQkgICAgIElEYXRhW10gc2VyaWFsSXRlbUFycmF5ID0gSURhdGFVdGlsLmdldElE
YXRhQXJyYXkoIHNlcmlhbEl0ZW1zQ3Vyc29yLCAiU2VyaWFsSXRlbSIgKTsNCgkJCQkgICAgIGlm
KHNlcmlhbEl0ZW1BcnJheSAhPSBudWxsKQ0KCQkJCSAgICAgew0KCQkJCSAgICAJIElEYXRhVXRp
bC5wdXQoIE9yZGVyTGluZUN1cnNvciwgIlF1YW50aXR5IiwgIiIgKyBzZXJpYWxJdGVtQXJyYXku
bGVuZ3RoICk7DQoJCQkJICAgICB9DQoJCQkJICAgICBzZXJpYWxJdGVtc0N1cnNvci5kZXN0cm95
KCk7DQoJCQkJICAgICBJRGF0YVV0aWwucHV0KCBPcmRlckxpbmVDdXJzb3IsICJTZXJpYWxJdGVt
cyIsIHNlcmlhbEl0ZW1zKTsNCgkJCQkgICAgIE9yZGVyTGluZUN1cnNvci5kZXN0cm95KCk7DQog
ICAgIA0KCQkJCSAgICAgaV82Kys7DQoJCQkJICAgIA0KCQkJCX0NCgkJCQkNCgkJCQkNCgkJCQkN
CgkJCQkNCgkJCQlJRGF0YVV0aWwucHV0KCBPcmRlckxpbmVzQ3Vyc29yLCAiT3JkZXJMaW5lIiwg
T3JkZXJMaW5lICk7DQoJCQkJT3JkZXJMaW5lc0N1cnNvci5kZXN0cm95KCk7DQoJCQkJSURhdGFV
dGlsLnB1dCggUGFja2FnZUN1cnNvciwgIk9yZGVyTGluZXMiLCBPcmRlckxpbmVzICk7DQoJCQkJ
UGFja2FnZUN1cnNvci5kZXN0cm95KCk7DQoJCQkJaV81Kys7DQoJCQl9DQoJCQlJRGF0YVV0aWwu
cHV0KCBQYWNrYWdlc0N1cnNvciwgIlBhY2thZ2UiLCBQYWNrYWdlICk7DQoJCQlQYWNrYWdlc0N1
cnNvci5kZXN0cm95KCk7DQoJCQlJRGF0YVV0aWwucHV0KCBQYWxsZXRDdXJzb3IsICJQYWNrYWdl
cyIsIFBhY2thZ2VzICk7DQoJCQlQYWxsZXRDdXJzb3IuZGVzdHJveSgpOw0KCQkJaV80Kys7DQoJ
CQkNCgkJfQ0KCQlJRGF0YVV0aWwucHV0KCBQYWxsZXRzQ3Vyc29yLCAiUGFsbGV0IiwgUGFsbGV0
ICk7DQoJCVBhbGxldHNDdXJzb3IuZGVzdHJveSgpOw0KCX0NCgkNCnBpcGVsaW5lQ3Vyc29yLmRl
c3Ryb3koKTsNCg0KLy8gcGlwZWxpbmUNCklEYXRhQ3Vyc29yIHBpcGVsaW5lQ3Vyc29yXzEgPSBw
aXBlbGluZS5nZXRDdXJzb3IoKTsNCklEYXRhVXRpbC5wdXQoIHBpcGVsaW5lQ3Vyc29yXzEsICJQ
YWxsZXRzIiwgUGFsbGV0cyk7DQpwaXBlbGluZUN1cnNvcl8xLmRlc3Ryb3koKTsNCg0KLy8gcGlw
ZWxpbmUNCgk=</value>
</Values>
